<!DOCTYPE html><html><head><link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script><script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script><link rel="stylesheet" href="/main.css"><link rel="stylesheet" href="main.css"></head><body><div class="container"><div style="padding: 0px; margin: 10px" class="row"><nav class="navbar navbar-default"><div class="container-fluid"><!-- Brand and toggle get grouped for better mobile display--><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">timothy lim</a></div><!-- Collect the nav links, forms, and other content for toggling--><div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li class="active"></li><li><a href="/">about</a></li><li><a href="/code">code</a></li><li><a href="/blog">blog</a></li></ul></div></div></nav></div><div style="padding: 0px; margin: 10px; margin-left: 27px; margin-bottom: 80px"><h3>uploading H5P packages with OSX</h3><p>This article assumes that you&#39;ve completed the <a href="https://h5p.org/tutorial-greeting-card">&#39;hello world&#39; H5P tutorial</a> until the stage where you have to upload a package.</p>
<p>When uploading h5p packages to drupal with osx the following you may encouter the following errors:</p>
<pre><code>Could not find library.json file with valid json format for library greeting
A valid content folder is missing
A valid main h5p.json file is missing
</code></pre><p>As mentioned in the comments, these errors are caused by 1. zipping the project folder as opposed to all the files within it.</p>
<p>This can be done with terminal (we will use the greeter tutorial as an example):</p>
<p>Navigate inside the project</p>
<pre><code>$ cd greeting
</code></pre><p>Let&#39;s have a look inside</p>
<pre><code>$ ls

H5P.GreetingCard    content            h5p.json
</code></pre><p>zip the all the files in greeting to a file called greeter.h5p</p>
<pre><code>$ zip -r greeter.h5p *
</code></pre><p>Depending on whether the files in greeter have been accessed using finder, this may be successful or the following erros may occur:</p>
<pre><code>File &quot;.DS_Store&quot; not allowed. Only files with the following extensions are allowed: json png jpg jpeg gif bmp tif tiff svg eot ttf woff otf webm mp4 ogg mp3 txt pdf rtf doc docx xls xlsx ppt pptx odt ods odp xml csv diff patch swf md textile.

The uploaded file was not a valid H5P package
</code></pre><p>This error is caused by uploading DS_Store files which are created by Finder whenever you open a file.</p>
<p>Remove the corrupted zip file if you haven&#39;t already</p>
<pre><code>$ rm -rf greeting.h5p
</code></pre><p>Recursively delete the .DS_Store files, don&#39;t open the directory in finder after this step</p>
<pre><code>$ find . -name &#39;.DS_Store&#39; -delete
</code></pre><p>Create the zip file again</p>
<pre><code>$ zip -r greeter.h5p *
</code></pre><p>that should be it. Check out the official <a href="https://h5p.org/forum">H5P forum</a> if you have any other problems.</p></div></div></body></html>